<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP的原理和工作机制 | 技术咸鱼 ｜ oopanda</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <script type="text/javascript" async="async" src="https://s9.cnzz.com/z_stat.php?id=1279350766&amp;web_id=1279350766"></script>
    <script async="async" custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script>
    <script>
        <!-- Bidvertiser2082483 -->
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?670c98310106d8f580d17f583e1715ee";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
        </script>
    <script async="async" data-ad-client="ca-pub-9224233515711708" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9224233515711708" crossorigin="anonymous"></script>
    <script src="/assets/js/autopush-baidu.js"></script>
    <script src="/assets/js/autopush-360.js"></script>
    <script src="/assets/js/autopush-toutiao.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-TM401HDSQ1"></script>
    <script>
            (function(d) {
            var params = { bvpushsubid: 2082483, cb: (new Date()).getTime() };
            var qs = Object.keys(params).reduce(function(a, k){ a.push(k + '=' + encodeURIComponent(params[k])); return a},[]).join(String.fromCharCode(38));
            var s = d.createElement('script'); s.type='text/javascript';s.async=true;
            var p = 'https:' == document.location.protocol ? 'https' : 'http';
            s.src = p + "://cdn.hyperpromote.com/bidvertiser/tags/activejs/bdpush.js?" + qs;
            d.getElementsByTagName('body').item(0).appendChild(s);})(document);
            </script>
    <script>
      window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TM401HDSQ1');
        </script>
    <link rel="alternate" type="application/rss+xml" href="https://www.oopanda.cn/rss.xml" title="技术咸鱼 ｜ oopanda RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://www.oopanda.cn/feed.atom" title="技术咸鱼 ｜ oopanda Atom Feed">
    <link rel="alternate" type="application/json" href="https://www.oopanda.cn/feed.json" title="技术咸鱼 ｜ oopanda JSON Feed">
    <meta name="description" content="HTTP的原理和工作机制">
    <meta name="keywords" content="Android,http,网络,URL,HTTP报文">
    <meta name="X-UA-Compatible" content="IE=edge">
    <meta name="baidu-site-verification" content="code-A3SlhzDdle">
    <meta name="sogou_site_verification" content="uaBARYcuLG">
    <meta name="360-site-verification" content="c933827cb3ebbf8d7de813a47b0ef591">
    <meta name="shenma-site-verification" content="41cdcca7ee9e3bcd1ab74496dad03391_1622087040">
    <meta name="msvalidate.01" content="B69CD3B54784C3E857EDA70AFECED281">
    <meta name="bytedance-verification-code" content="ukLZ1G6d4aYrAu2xOJ+H">
    <meta name="google-site-verification" content="obM7H8nefer76A31aziAIEz9BBsTafeafQ-bzMV_bPw">
    <meta name="theme-color" content="#0099FF">
    <meta name="baidu_union_verify" content="93d0a4740191eb2c9429a15c9eee00ff">
    <meta name="content-language" content="zh-cn">
    <meta name="Bidvertiser" content="<!-- Bidvertiser2082483 -->">
    <link rel="preload" href="/assets/css/0.styles.242a5af0.css" as="style"><link rel="preload" href="/assets/js/app.7d1b7638.js" as="script"><link rel="preload" href="/assets/js/2.7237062d.js" as="script"><link rel="preload" href="/assets/js/3.6e8e033a.js" as="script"><link rel="preload" href="/assets/js/92.8dd21d5e.js" as="script"><link rel="prefetch" href="/assets/js/10.d487bb99.js"><link rel="prefetch" href="/assets/js/100.7241d316.js"><link rel="prefetch" href="/assets/js/101.77eb1759.js"><link rel="prefetch" href="/assets/js/102.56d7db17.js"><link rel="prefetch" href="/assets/js/103.b93045ce.js"><link rel="prefetch" href="/assets/js/104.eb846980.js"><link rel="prefetch" href="/assets/js/105.ddcf25b6.js"><link rel="prefetch" href="/assets/js/106.e76461ea.js"><link rel="prefetch" href="/assets/js/107.07439c6f.js"><link rel="prefetch" href="/assets/js/108.dc896af6.js"><link rel="prefetch" href="/assets/js/109.26eccfb9.js"><link rel="prefetch" href="/assets/js/11.e1ba3ad7.js"><link rel="prefetch" href="/assets/js/110.7f5434d3.js"><link rel="prefetch" href="/assets/js/111.b6b107ed.js"><link rel="prefetch" href="/assets/js/112.7f47b176.js"><link rel="prefetch" href="/assets/js/113.e0138270.js"><link rel="prefetch" href="/assets/js/114.d06af8c2.js"><link rel="prefetch" href="/assets/js/115.a0377a53.js"><link rel="prefetch" href="/assets/js/116.a7c688f0.js"><link rel="prefetch" href="/assets/js/117.25535d6a.js"><link rel="prefetch" href="/assets/js/118.b8ac3685.js"><link rel="prefetch" href="/assets/js/119.faf38748.js"><link rel="prefetch" href="/assets/js/12.f4071053.js"><link rel="prefetch" href="/assets/js/120.9715f3b3.js"><link rel="prefetch" href="/assets/js/121.2dc021fd.js"><link rel="prefetch" href="/assets/js/122.a49a49a0.js"><link rel="prefetch" href="/assets/js/123.19ca75d1.js"><link rel="prefetch" href="/assets/js/124.b1a023cf.js"><link rel="prefetch" href="/assets/js/125.0affea11.js"><link rel="prefetch" href="/assets/js/126.cf7c406c.js"><link rel="prefetch" href="/assets/js/127.abb4c1e8.js"><link rel="prefetch" href="/assets/js/128.c5a82e5c.js"><link rel="prefetch" href="/assets/js/129.1ff059c4.js"><link rel="prefetch" href="/assets/js/13.51a23715.js"><link rel="prefetch" href="/assets/js/130.c5029fe3.js"><link rel="prefetch" href="/assets/js/131.4b8ad6ba.js"><link rel="prefetch" href="/assets/js/132.fc9a6e37.js"><link rel="prefetch" href="/assets/js/133.048085fa.js"><link rel="prefetch" href="/assets/js/134.18e21f1b.js"><link rel="prefetch" href="/assets/js/135.9b4ef2ae.js"><link rel="prefetch" href="/assets/js/136.e7e31663.js"><link rel="prefetch" href="/assets/js/137.7beb4244.js"><link rel="prefetch" href="/assets/js/138.0a9b08cc.js"><link rel="prefetch" href="/assets/js/139.5275d8b2.js"><link rel="prefetch" href="/assets/js/14.7f73e88f.js"><link rel="prefetch" href="/assets/js/140.b888a47e.js"><link rel="prefetch" href="/assets/js/141.5a16bab4.js"><link rel="prefetch" href="/assets/js/142.fd77e449.js"><link rel="prefetch" href="/assets/js/143.74c644e5.js"><link rel="prefetch" href="/assets/js/144.525fd4ea.js"><link rel="prefetch" href="/assets/js/145.7d5c721e.js"><link rel="prefetch" href="/assets/js/146.713b0420.js"><link rel="prefetch" href="/assets/js/147.6370c0fe.js"><link rel="prefetch" href="/assets/js/148.bd40dd6f.js"><link rel="prefetch" href="/assets/js/149.1046c9df.js"><link rel="prefetch" href="/assets/js/15.111d0517.js"><link rel="prefetch" href="/assets/js/150.c97bbbdb.js"><link rel="prefetch" href="/assets/js/151.b01b299c.js"><link rel="prefetch" href="/assets/js/152.b1ce4f82.js"><link rel="prefetch" href="/assets/js/153.5e984f51.js"><link rel="prefetch" href="/assets/js/154.db67acd0.js"><link rel="prefetch" href="/assets/js/155.1b8ab78a.js"><link rel="prefetch" href="/assets/js/156.0e52c75a.js"><link rel="prefetch" href="/assets/js/157.464b1d6e.js"><link rel="prefetch" href="/assets/js/158.51c1a40b.js"><link rel="prefetch" href="/assets/js/159.0436dc0e.js"><link rel="prefetch" href="/assets/js/16.48cde28f.js"><link rel="prefetch" href="/assets/js/160.d527cb67.js"><link rel="prefetch" href="/assets/js/161.f4346bf8.js"><link rel="prefetch" href="/assets/js/162.eaf8d4d4.js"><link rel="prefetch" href="/assets/js/163.e39ab005.js"><link rel="prefetch" href="/assets/js/164.42866a60.js"><link rel="prefetch" href="/assets/js/165.54b765b1.js"><link rel="prefetch" href="/assets/js/166.baed76b5.js"><link rel="prefetch" href="/assets/js/167.b5d4ee4a.js"><link rel="prefetch" href="/assets/js/168.be676274.js"><link rel="prefetch" href="/assets/js/169.4f99cfed.js"><link rel="prefetch" href="/assets/js/17.aee1eb55.js"><link rel="prefetch" href="/assets/js/170.9c35c8c9.js"><link rel="prefetch" href="/assets/js/171.023ec47f.js"><link rel="prefetch" href="/assets/js/172.6a85ab45.js"><link rel="prefetch" href="/assets/js/173.87509313.js"><link rel="prefetch" href="/assets/js/174.425eb468.js"><link rel="prefetch" href="/assets/js/175.bc37fe63.js"><link rel="prefetch" href="/assets/js/176.06650379.js"><link rel="prefetch" href="/assets/js/177.58ff8197.js"><link rel="prefetch" href="/assets/js/178.e0e62f2a.js"><link rel="prefetch" href="/assets/js/179.11c127cd.js"><link rel="prefetch" href="/assets/js/18.2c17b46e.js"><link rel="prefetch" href="/assets/js/180.2a3b363c.js"><link rel="prefetch" href="/assets/js/181.fcbc3564.js"><link rel="prefetch" href="/assets/js/182.30b261bb.js"><link rel="prefetch" href="/assets/js/183.2fde2183.js"><link rel="prefetch" href="/assets/js/184.9e750554.js"><link rel="prefetch" href="/assets/js/185.07d955d2.js"><link rel="prefetch" href="/assets/js/186.97deacc8.js"><link rel="prefetch" href="/assets/js/187.216c5daa.js"><link rel="prefetch" href="/assets/js/188.9116c0b4.js"><link rel="prefetch" href="/assets/js/189.2b2d7aa3.js"><link rel="prefetch" href="/assets/js/19.fef3286a.js"><link rel="prefetch" href="/assets/js/190.b06ac80c.js"><link rel="prefetch" href="/assets/js/191.f624b89d.js"><link rel="prefetch" href="/assets/js/192.fdcbf3ef.js"><link rel="prefetch" href="/assets/js/193.916200b7.js"><link rel="prefetch" href="/assets/js/194.b52ad8ea.js"><link rel="prefetch" href="/assets/js/195.3a5bf652.js"><link rel="prefetch" href="/assets/js/196.c624bbe0.js"><link rel="prefetch" href="/assets/js/197.beea2553.js"><link rel="prefetch" href="/assets/js/198.43340735.js"><link rel="prefetch" href="/assets/js/199.bdfb77fc.js"><link rel="prefetch" href="/assets/js/20.7ec5a9a9.js"><link rel="prefetch" href="/assets/js/200.d2fe2b57.js"><link rel="prefetch" href="/assets/js/201.3f0d4428.js"><link rel="prefetch" href="/assets/js/202.35705108.js"><link rel="prefetch" href="/assets/js/203.783c33ce.js"><link rel="prefetch" href="/assets/js/204.c8c21229.js"><link rel="prefetch" href="/assets/js/205.d06cdcc0.js"><link rel="prefetch" href="/assets/js/206.9b09efbb.js"><link rel="prefetch" href="/assets/js/207.6826ce12.js"><link rel="prefetch" href="/assets/js/208.55e1d4cb.js"><link rel="prefetch" href="/assets/js/209.a57c0a2f.js"><link rel="prefetch" href="/assets/js/21.9c11cd60.js"><link rel="prefetch" href="/assets/js/210.065d99e8.js"><link rel="prefetch" href="/assets/js/211.94af0ad7.js"><link rel="prefetch" href="/assets/js/212.e0ec541f.js"><link rel="prefetch" href="/assets/js/213.3a7e3f84.js"><link rel="prefetch" href="/assets/js/214.50ff34bb.js"><link rel="prefetch" href="/assets/js/215.ab9999b7.js"><link rel="prefetch" href="/assets/js/216.7ad1dc4a.js"><link rel="prefetch" href="/assets/js/217.ae3cd89d.js"><link rel="prefetch" href="/assets/js/218.8f35b542.js"><link rel="prefetch" href="/assets/js/219.280e47c1.js"><link rel="prefetch" href="/assets/js/22.1226f8ca.js"><link rel="prefetch" href="/assets/js/220.14e6d829.js"><link rel="prefetch" href="/assets/js/221.6b4447e5.js"><link rel="prefetch" href="/assets/js/222.39a730a4.js"><link rel="prefetch" href="/assets/js/223.b31a223f.js"><link rel="prefetch" href="/assets/js/224.96f8033c.js"><link rel="prefetch" href="/assets/js/225.bed1b097.js"><link rel="prefetch" href="/assets/js/226.46e1fc16.js"><link rel="prefetch" href="/assets/js/227.e4c080f7.js"><link rel="prefetch" href="/assets/js/228.e4f8f936.js"><link rel="prefetch" href="/assets/js/229.88ff4a7a.js"><link rel="prefetch" href="/assets/js/23.d3ce4980.js"><link rel="prefetch" href="/assets/js/230.ce992e23.js"><link rel="prefetch" href="/assets/js/231.33bdfa6c.js"><link rel="prefetch" href="/assets/js/232.a5c03dc1.js"><link rel="prefetch" href="/assets/js/233.e8ecc274.js"><link rel="prefetch" href="/assets/js/234.b297ab56.js"><link rel="prefetch" href="/assets/js/235.2b4dc713.js"><link rel="prefetch" href="/assets/js/236.e32b8cf3.js"><link rel="prefetch" href="/assets/js/237.ca017a05.js"><link rel="prefetch" href="/assets/js/238.5d11636b.js"><link rel="prefetch" href="/assets/js/239.14144697.js"><link rel="prefetch" href="/assets/js/24.f69d5628.js"><link rel="prefetch" href="/assets/js/240.839e993b.js"><link rel="prefetch" href="/assets/js/241.655e1cbd.js"><link rel="prefetch" href="/assets/js/242.d4a4bd4c.js"><link rel="prefetch" href="/assets/js/243.dabb78a8.js"><link rel="prefetch" href="/assets/js/244.be7b4a81.js"><link rel="prefetch" href="/assets/js/245.0e2a900b.js"><link rel="prefetch" href="/assets/js/246.1cf7fcca.js"><link rel="prefetch" href="/assets/js/247.f6922fbc.js"><link rel="prefetch" href="/assets/js/248.d9027065.js"><link rel="prefetch" href="/assets/js/249.d01ea832.js"><link rel="prefetch" href="/assets/js/25.1b3f9d9c.js"><link rel="prefetch" href="/assets/js/250.80a94660.js"><link rel="prefetch" href="/assets/js/251.4aa62404.js"><link rel="prefetch" href="/assets/js/252.b0d0441c.js"><link rel="prefetch" href="/assets/js/253.ec106dc0.js"><link rel="prefetch" href="/assets/js/254.f6622172.js"><link rel="prefetch" href="/assets/js/255.71e39933.js"><link rel="prefetch" href="/assets/js/256.8e14f4aa.js"><link rel="prefetch" href="/assets/js/257.a5a2cc03.js"><link rel="prefetch" href="/assets/js/258.b7f3c80d.js"><link rel="prefetch" href="/assets/js/259.f69707b2.js"><link rel="prefetch" href="/assets/js/26.64135c48.js"><link rel="prefetch" href="/assets/js/260.bfc2aae0.js"><link rel="prefetch" href="/assets/js/261.29bc337f.js"><link rel="prefetch" href="/assets/js/262.eca69d96.js"><link rel="prefetch" href="/assets/js/263.1c6bdc41.js"><link rel="prefetch" href="/assets/js/264.f792343c.js"><link rel="prefetch" href="/assets/js/265.cfd58938.js"><link rel="prefetch" href="/assets/js/266.c377121a.js"><link rel="prefetch" href="/assets/js/267.32cf3fe7.js"><link rel="prefetch" href="/assets/js/268.88602b6d.js"><link rel="prefetch" href="/assets/js/269.7d58dc81.js"><link rel="prefetch" href="/assets/js/27.96d68bea.js"><link rel="prefetch" href="/assets/js/270.351dd8c1.js"><link rel="prefetch" href="/assets/js/271.82c1d373.js"><link rel="prefetch" href="/assets/js/272.23c315a9.js"><link rel="prefetch" href="/assets/js/273.2c94da93.js"><link rel="prefetch" href="/assets/js/274.e7e0baae.js"><link rel="prefetch" href="/assets/js/275.04156b0f.js"><link rel="prefetch" href="/assets/js/276.f31acc08.js"><link rel="prefetch" href="/assets/js/277.46a409b3.js"><link rel="prefetch" href="/assets/js/278.cf7b08fa.js"><link rel="prefetch" href="/assets/js/279.1ab2a17b.js"><link rel="prefetch" href="/assets/js/28.7268aeaf.js"><link rel="prefetch" href="/assets/js/280.f3575be2.js"><link rel="prefetch" href="/assets/js/281.6e5923ec.js"><link rel="prefetch" href="/assets/js/282.3ba2664c.js"><link rel="prefetch" href="/assets/js/283.2e4e597a.js"><link rel="prefetch" href="/assets/js/284.02785b6e.js"><link rel="prefetch" href="/assets/js/285.84365b4c.js"><link rel="prefetch" href="/assets/js/286.26bf8d15.js"><link rel="prefetch" href="/assets/js/287.f7ae0e3c.js"><link rel="prefetch" href="/assets/js/288.929bec6d.js"><link rel="prefetch" href="/assets/js/289.1fe7c241.js"><link rel="prefetch" href="/assets/js/29.0323a8d4.js"><link rel="prefetch" href="/assets/js/290.e55b4f42.js"><link rel="prefetch" href="/assets/js/291.8336cf6e.js"><link rel="prefetch" href="/assets/js/30.60cb1cd0.js"><link rel="prefetch" href="/assets/js/31.9ff6359c.js"><link rel="prefetch" href="/assets/js/32.8a137d1f.js"><link rel="prefetch" href="/assets/js/33.ab1ad44b.js"><link rel="prefetch" href="/assets/js/34.df31b1c8.js"><link rel="prefetch" href="/assets/js/35.1be1ac75.js"><link rel="prefetch" href="/assets/js/36.cd8d49ad.js"><link rel="prefetch" href="/assets/js/37.474e38ff.js"><link rel="prefetch" href="/assets/js/38.300cb32a.js"><link rel="prefetch" href="/assets/js/39.c8ce8312.js"><link rel="prefetch" href="/assets/js/4.9f92639c.js"><link rel="prefetch" href="/assets/js/40.bbc1b83e.js"><link rel="prefetch" href="/assets/js/41.9b68dee7.js"><link rel="prefetch" href="/assets/js/42.24abc119.js"><link rel="prefetch" href="/assets/js/43.5d4b25a2.js"><link rel="prefetch" href="/assets/js/44.de3e7698.js"><link rel="prefetch" href="/assets/js/45.b8e62a16.js"><link rel="prefetch" href="/assets/js/46.c2550bb1.js"><link rel="prefetch" href="/assets/js/47.7977e113.js"><link rel="prefetch" href="/assets/js/48.85702cc0.js"><link rel="prefetch" href="/assets/js/49.3b07c403.js"><link rel="prefetch" href="/assets/js/5.8ee2b8f0.js"><link rel="prefetch" href="/assets/js/50.5054e277.js"><link rel="prefetch" href="/assets/js/51.afe692b3.js"><link rel="prefetch" href="/assets/js/52.11ca4ba5.js"><link rel="prefetch" href="/assets/js/53.4c3b472a.js"><link rel="prefetch" href="/assets/js/54.fdcff12a.js"><link rel="prefetch" href="/assets/js/55.92d15254.js"><link rel="prefetch" href="/assets/js/56.849190f7.js"><link rel="prefetch" href="/assets/js/57.46ea7cb6.js"><link rel="prefetch" href="/assets/js/58.1ce9fe07.js"><link rel="prefetch" href="/assets/js/59.ed85cc20.js"><link rel="prefetch" href="/assets/js/6.b18c7909.js"><link rel="prefetch" href="/assets/js/60.232f9c10.js"><link rel="prefetch" href="/assets/js/61.78cc9a1c.js"><link rel="prefetch" href="/assets/js/62.831a6131.js"><link rel="prefetch" href="/assets/js/63.59a76344.js"><link rel="prefetch" href="/assets/js/64.11e6d605.js"><link rel="prefetch" href="/assets/js/65.4ce8dc0e.js"><link rel="prefetch" href="/assets/js/66.a008f169.js"><link rel="prefetch" href="/assets/js/67.05084799.js"><link rel="prefetch" href="/assets/js/68.255cc9ae.js"><link rel="prefetch" href="/assets/js/69.78a3c3af.js"><link rel="prefetch" href="/assets/js/7.3666582a.js"><link rel="prefetch" href="/assets/js/70.625ee941.js"><link rel="prefetch" href="/assets/js/71.6c2cfa72.js"><link rel="prefetch" href="/assets/js/72.ca766336.js"><link rel="prefetch" href="/assets/js/73.cdcc7b4c.js"><link rel="prefetch" href="/assets/js/74.5b2a9eb9.js"><link rel="prefetch" href="/assets/js/75.8e7a2711.js"><link rel="prefetch" href="/assets/js/76.0254e497.js"><link rel="prefetch" href="/assets/js/77.fa2944c5.js"><link rel="prefetch" href="/assets/js/78.355a7b62.js"><link rel="prefetch" href="/assets/js/79.15f7d644.js"><link rel="prefetch" href="/assets/js/8.9f039c9b.js"><link rel="prefetch" href="/assets/js/80.adae9602.js"><link rel="prefetch" href="/assets/js/81.2f84676d.js"><link rel="prefetch" href="/assets/js/82.2323fc85.js"><link rel="prefetch" href="/assets/js/83.8e1fc5ae.js"><link rel="prefetch" href="/assets/js/84.8dd47051.js"><link rel="prefetch" href="/assets/js/85.8ba45acc.js"><link rel="prefetch" href="/assets/js/86.feae42bc.js"><link rel="prefetch" href="/assets/js/87.a9e2df07.js"><link rel="prefetch" href="/assets/js/88.3744849c.js"><link rel="prefetch" href="/assets/js/89.3e5fe9bc.js"><link rel="prefetch" href="/assets/js/9.5aaecef7.js"><link rel="prefetch" href="/assets/js/90.bdbfceec.js"><link rel="prefetch" href="/assets/js/91.15b444e4.js"><link rel="prefetch" href="/assets/js/93.e46c727f.js"><link rel="prefetch" href="/assets/js/94.e16553b2.js"><link rel="prefetch" href="/assets/js/95.cd631368.js"><link rel="prefetch" href="/assets/js/96.5d8d63e5.js"><link rel="prefetch" href="/assets/js/97.72990aa2.js"><link rel="prefetch" href="/assets/js/98.31ff9dcd.js"><link rel="prefetch" href="/assets/js/99.9b392ec6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.242a5af0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/avatar/avatar-circle.webp" alt="技术咸鱼" class="logo"> <span class="site-name can-hide">技术咸鱼</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/tools/" class="nav-link">工具</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="咸鱼教程" class="dropdown-title"><a href="/note/" class="link-title">咸鱼教程</a> <span class="title" style="display:none;">咸鱼教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/django/" class="nav-link">《Django教程》</a></li><li class="dropdown-item"><!----> <a href="/note/vuepress/" class="nav-link">《VuePress教程》</a></li></ul></div></div><div class="nav-item"><a href="/app/" class="nav-link">应用</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/pages/collect/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/d4807f/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/pages/eee83a9211a70f9d/" class="nav-link">资源</a></li><li class="dropdown-item"><!----> <a href="/pages/12df8ace52d493f6/" class="nav-link">Vue资源网站</a></li><li class="dropdown-item"><!----> <a href="/pages/f53f47/" class="nav-link">Flutter资源网站</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar/avatar.webp" alt="头像"> <div class="blogger-info"><h3></h3> <span>公众号:技术咸鱼</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/tools/" class="nav-link">工具</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="咸鱼教程" class="dropdown-title"><a href="/note/" class="link-title">咸鱼教程</a> <span class="title" style="display:none;">咸鱼教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/django/" class="nav-link">《Django教程》</a></li><li class="dropdown-item"><!----> <a href="/note/vuepress/" class="nav-link">《VuePress教程》</a></li></ul></div></div><div class="nav-item"><a href="/app/" class="nav-link">应用</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/9a7ee40fc232253e/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/pages/117708e0af7f0bd9/" class="nav-link">Nodejs</a></li><li class="dropdown-item"><!----> <a href="/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/pages/collect/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/d4807f/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/pages/eee83a9211a70f9d/" class="nav-link">资源</a></li><li class="dropdown-item"><!----> <a href="/pages/12df8ace52d493f6/" class="nav-link">Vue资源网站</a></li><li class="dropdown-item"><!----> <a href="/pages/f53f47/" class="nav-link">Flutter资源网站</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>网络架构</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e8fa78/" aria-current="page" class="active sidebar-link">HTTP的原理和工作机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e8fa78/#什么是http" class="sidebar-link">什么是Http</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#http的工作过程" class="sidebar-link">Http的工作过程</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#url和http报文" class="sidebar-link">URL和HTTP报文</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e8fa78/#url" class="sidebar-link">URL</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#http报文" class="sidebar-link">HTTP报文</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#http的请求方法" class="sidebar-link">HTTP的请求方法</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#状态码" class="sidebar-link">状态码</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#头信息-header" class="sidebar-link">头信息(Header)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e8fa78/#常用头信息" class="sidebar-link">常用头信息</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#user-agent-用户代理" class="sidebar-link">User-Agent(用户代理)</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#location-重定向" class="sidebar-link">Location(重定向)</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#range-accept-range-content-range" class="sidebar-link">Range/Accept-Range/Content-Range</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#accept" class="sidebar-link">Accept</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#accept-charset" class="sidebar-link">Accept-Charset</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#accept-encoding" class="sidebar-link">Accept-Encoding</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#content-encoding" class="sidebar-link">Content-Encoding</a></li><li class="sidebar-sub-header"><a href="/pages/e8fa78/#cache-缓存-buffer-缓冲" class="sidebar-link">Cache(缓存)/Buffer(缓冲)</a></li></ul></li></ul></li><li><a href="/pages/5b9e4a/" class="sidebar-link">RESTful的简介</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>java</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-70a2d273><div class="articleInfo" data-v-70a2d273><ul class="breadcrumbs" data-v-70a2d273><li data-v-70a2d273><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-70a2d273></a></li> <li data-v-70a2d273><a href="/categories/?category=Android%E9%AB%98%E7%BA%A7" title="分类" data-v-70a2d273>Android高级</a></li> <li data-v-70a2d273><a href="/categories/?category=%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84" title="分类" data-v-70a2d273>网络架构</a></li> <!----></ul> <div class="info" data-v-70a2d273><div title="作者" class="author iconfont icon-touxiang" data-v-70a2d273><a href="https://github.com/oopanda-sun" target="_blank" title="作者" class="beLink" data-v-70a2d273>技术咸鱼</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-70a2d273><a href="javascript:;" data-v-70a2d273>2020-06-05</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img alt="标题" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
                    HTTP的原理和工作机制
                </h1> <!---->  <div class="theme-vdoing-content content__default"><h2 id="什么是http"><a href="#什么是http" class="header-anchor">#</a> 什么是Http</h2> <p><code>HTTP</code>:是英文<code>HyperText Transfer Protocol</code>的缩写，翻译过来就是<code>超文本传输协议</code>.

但是翻译过来还是让人摸不着头脑,只能大概知道这是一种协议,因此我们进一步把<code>超文本传输协议</code>拆成<code>超文本</code>,<code>传输</code>,<code>协议</code>三个词来进行理解</p> <ul><li><code>超文本</code>:最早【文本】就是我们通常了解的字符文字,但是随着通讯技术的发展.图片,音频,视频甚至压缩包都纳入进来了,出现了【超文本】概念,
它是一种将图片,音频,视频等【文本】内容混合在一起,并引入【超链接】,使不同的【文本】直接可以跳转的一种文本.HTML就是一种典型的超文本.</li> <li><code>传输</code>:传输比较容易理解，就是把东西从一端传到一端.</li> <li><code>协议</code>:这个也比较容易理解,就是咱们平常理解协议的意思,一种被双方都接受的规范.</li></ul> <p>通过上面的解释,我们大概可以理解，HTTP就是一种能够传输文本,图片,音频,视频等资源一种协议规范.</p> <h2 id="http的工作过程"><a href="#http的工作过程" class="header-anchor">#</a> Http的工作过程</h2> <p>我们程序员在平常的开发过程中,会经常接触到HTTP,下面我们简单举两个例来简单理解HTTP的工作过程</p> <ul><li>浏览器输入网址,打开网页</li> <li>Android应用发送请求,返回对应内容</li></ul> <p>以下是浏览器输入网址,打开网页的一个过程有以下步骤(只解释HTTP的流程,真实情况下还涉及到DNS的问题,暂时不讨论)</p> <blockquote><ul><li>浏览器输入网址</li> <li>浏览器发送请求到服务器</li> <li>服务器处理浏览器请求,返回响应结果</li> <li>浏览器接收到响应,渲染页面</li></ul></blockquote> <p><img src="/img/blog/http-flow.jpg" alt="Http流程"></p> <h2 id="url和http报文"><a href="#url和http报文" class="header-anchor">#</a> URL和HTTP报文</h2> <h3 id="url"><a href="#url" class="header-anchor">#</a> URL</h3> <p>根据上面的案例,我们在浏览器中输入一个短短的网址URL,怎么就获取到这么多东西呢,下面我们网址的URL进行下分析</p> <p><img src="/img/blog/url-formation.jpg" alt="URL组成"></p> <p>从上面我们可以看出URL由3部分组成,其实真实情况下应该有4部分组成,分别是<code>协议类型</code>,<code>服务器主机</code>,<code>端口</code>,<code>路径path</code>
其中http端口为80,https端口为443,在默认的情况下都是省略了，
URL标准的请求应该为</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>oopanda<span class="token punctuation">.</span>cn<span class="token operator">:</span><span class="token number">80</span><span class="token operator">/</span>auth<span class="token operator">/</span>user<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">100</span><span class="token operator">&amp;</span>group<span class="token operator">=</span><span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="http报文"><a href="#http报文" class="header-anchor">#</a> HTTP报文</h3> <p>使用网页或者使用postman调用接口的时候我们经常会看到以下这些东西,这些东西是什么呢?</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Http/1.1 <span class="token number">200</span> OK
Access-Control-Allow-Credentials:true
Access-Control-Allow-Origin:https://oopanda.cn
Cache-Control:no-cache, no-store, max-age<span class="token operator">=</span><span class="token number">0</span>, must-revalidate
Connection:keep-alive
Content-Length:967
Content-Type:application/json<span class="token punctuation">;</span><span class="token assign-left variable">charset</span><span class="token operator">=</span>UTF-8
Date:Thu, 05 Jan <span class="token number">2023</span> 07:03:54 GMT
Expires:0
Pragma:no-cache
Server:nginx/1.13.3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>其实这些东西就是<code>HTTP报文</code>,就是http应用直接发送的数据块,分为<code>请求报文</code>和<code>响应报文</code>,下面是通过抓包工具wireshark抓取</p> <h4 id="请求报文"><a href="#请求报文" class="header-anchor">#</a> 请求报文</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>GET /user?id<span class="token operator">=</span><span class="token number">100</span><span class="token operator">&amp;</span><span class="token assign-left variable">group</span><span class="token operator">=</span><span class="token number">1</span> HTTP/1.1
Accept: */*
Referer: http://oopanda.cn/auth
Accept-Language: en-US
User-Agent: Mozilla/5.0 <span class="token punctuation">(</span>Macintosh<span class="token punctuation">;</span> Intel Mac OS X 10_15_7<span class="token punctuation">)</span> AppleWebKit/537.36 <span class="token punctuation">(</span>KHTML, like Gecko<span class="token punctuation">)</span> Chrome/107.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate
Host: oopanda.cn
Connection: Keep-Alive
Cookie: xxxxxxxxxxxxxxx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><img src="/img/blog/http-request-message.png" alt="HTTP请求报文"></p> <p>HTTP的请求报文由四部分组成:<code>请求行</code>,<code>请求头</code>,<code>空格</code>,<code>请求体</code></p> <ul><li><blockquote><p><code>请求行</code>:由请求方法,path,http版本组成</p></blockquote></li> <li><blockquote><p><code>请求头</code>:由多个key-value值组成常见的有Host,Content-Type,User-Agent等,下面会具体介绍</p></blockquote></li> <li><blockquote><p><code>空格</code>:请求报文使用空格将请求头和请求体分割开,无其他意义</p></blockquote></li> <li><blockquote><p><code>请求体</code>:GET方法没有携带数据,POST/PUT方法会携带body数据</p></blockquote></li></ul> <h4 id="响应报文"><a href="#响应报文" class="header-anchor">#</a> 响应报文</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>HTTP/1.1 <span class="token number">200</span> OK
Bdpagetype: <span class="token number">1</span>
Bdqid: 0xacbbb9d800005133
Cache-Control: private
Connection: Keep-Alive
Content-Encoding: <span class="token function">gzip</span>
Content-Type: text/html
Cxy_all: baidu+f8b5e5b521b3644ef7f3455ea441c5d0
Date: Fri, <span class="token number">12</span> Oct <span class="token number">2020</span> 06:36:28 GMT
Expires: Fri, <span class="token number">12</span> Oct <span class="token number">2020</span> 06:36:26 GMT
Server: BWS/1.1
Set-Cookie: <span class="token assign-left variable">delPer</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token assign-left variable">path</span><span class="token operator">=</span>/<span class="token punctuation">;</span> <span class="token assign-left variable">domain</span><span class="token operator">=</span>.baidu.com
Set-Cookie: <span class="token assign-left variable">BDSVRTM</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token assign-left variable">path</span><span class="token operator">=</span>/
Set-Cookie: <span class="token assign-left variable">BD_HOME</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token assign-left variable">path</span><span class="token operator">=</span>/
Set-Cookie: <span class="token assign-left variable">H_PS_PSSID</span><span class="token operator">=</span>1433_21112_18560_26350_27245_22158<span class="token punctuation">;</span> <span class="token assign-left variable">path</span><span class="token operator">=</span>/<span class="token punctuation">;</span> <span class="token assign-left variable">domain</span><span class="token operator">=</span>.baidu.com
Vary: Accept-Encoding
X-Ua-Compatible: <span class="token assign-left variable">IE</span><span class="token operator">=</span>Edge,chrome<span class="token operator">=</span><span class="token number">1</span>
Transfer-Encoding: chunked

<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>--STATUS OK--<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><img src="/img/blog/http-response-message.webp" alt="HTTP请求报文"></p> <p>看上去<code>响应报文</code>和<code>请求报文</code>的接口差不多,其实两者的组成接口的确差不多,响应报文由四部分组成:<code>状态行</code>,<code>响应头</code>,<code>空格</code>,<code>响应体</code></p> <ul><li><blockquote><p><code>状态行</code>:由协议版本,状态码,状态值组成</p></blockquote></li> <li><blockquote><p><code>响应头</code>:由多个key-value值组成</p></blockquote></li> <li><blockquote><p><code>空格</code>:用于将响应头和响应体分割开,无其他意义</p></blockquote></li> <li><blockquote><p><code>请求体</code>:响应数据,可能是html,json,图片等</p></blockquote></li></ul> <p>在上面咱们已经简单了解了请求报文和响应报文的组成,下面咱们具体了解下其中的具体组成成分请求方法,头信息等</p> <h2 id="http的请求方法"><a href="#http的请求方法" class="header-anchor">#</a> HTTP的请求方法</h2> <ul><li><blockquote><p><code>GET请求</code>:由path和params两种添加参数的方式,无body主要用于获取资源的接口,也是最常用的请求方法</p></blockquote></li> <li><blockquote><p><code>POST请求</code>:增加或者修改资源的接口</p></blockquote></li> <li><blockquote><p><code>PUT请求</code>:修改资源的接口,和POST的不同是PUT是幂等,也就是多次执行和一次执行是一样的效果</p></blockquote></li> <li><blockquote><p><code>DELETE请求</code>:删除资源,没有body，是幂等</p></blockquote></li> <li><blockquote><p><code>HEAD请求</code>:很少使用,不会返回body,主要是获取报文的头信息,可以用于下载</p></blockquote></li> <li><blockquote><p><code>OPTIONS请求</code>:用于获取OPTIONS都支持哪些HTTP请求方法,爬虫的时候用过</p></blockquote></li></ul> <h2 id="状态码"><a href="#状态码" class="header-anchor">#</a> 状态码</h2> <ul><li><blockquote><p><code>1XX(临时响应)</code>:一种临时性的响应状态码</p></blockquote></li> <li><ul><li><blockquote><p><code>100(继续)</code>:服务器收到一部分请求,告诉客户端继续请求</p></blockquote></li></ul></li> <li><ul><li><blockquote><p><code>101(切换协议)</code>:客户端要求服务器切换协议,服务端接收到，并且已经准备好了</p></blockquote></li></ul></li> <li><blockquote><p><code>2XX(成功)</code>:表示成功处理了请求的状态码</p></blockquote></li> <li><ul><li><blockquote><p><code>200(成功)</code>:服务器已经成功接收到请求并处理好了</p></blockquote></li></ul></li> <li><ul><li><blockquote><p><code>201(已创建)</code>:请求成功,并且创建了新数据,POST新增数据的时候会返回</p></blockquote></li></ul></li> <li><ul><li><blockquote><p><code>202(已接收)</code>:服务器已经接收了请求,但是还未处理</p></blockquote></li></ul></li> <li><blockquote><p><code>3XX(重定向)</code>:重定向到新的网址</p></blockquote></li> <li><ul><li><blockquote><p><code>300(多种选择)</code>:针对请求,服务器可执行多种操作,客户端可以根据UA或者其他方式告诉服务端</p></blockquote></li></ul></li> <li><ul><li><blockquote><p><code>301(永久移动)</code>:请求的网址已经被永久的移到了新网址,服务器返回此响应的时候会自动转到新网址</p></blockquote></li></ul></li> <li><blockquote><p><code>4XX(请求错误)</code>:客户端出现的请求错误</p></blockquote></li> <li><ul><li><blockquote><p><code>400(错误请求)</code>:客户端发送了服务器不理解的语法或者请求参数有错</p></blockquote></li></ul></li> <li><ul><li><blockquote><p><code>401(未授权)</code>:客户端没有或者发送了错误的认证信息返回的错误</p></blockquote></li></ul></li> <li><ul><li><blockquote><p><code>403(禁止)</code>:服务器接收了请求,但是它拒绝了,原因有很多种,可能是请求过于频繁</p></blockquote></li></ul></li> <li><ul><li><blockquote><p><code>404(未找到)</code>:服务器没找到资源，一半是url拼接错误</p></blockquote></li></ul></li> <li><ul><li><blockquote><p><code>405(方法禁止)</code>:请求方法错了,需要POST请求方法的,使用了GET</p></blockquote></li></ul></li> <li><blockquote><p><code>5XX(服务器错误)</code>:服务器出现的错误</p></blockquote></li> <li><ul><li><blockquote><p><code>500(服务器内部错误)</code>:服务器内部遇到错误</p></blockquote></li></ul></li></ul> <h2 id="头信息-header"><a href="#头信息-header" class="header-anchor">#</a> 头信息(Header)</h2> <p><code>头信息</code>主要是用来传递http的元数据(metadata).</p> <h3 id="常用头信息"><a href="#常用头信息" class="header-anchor">#</a> 常用头信息</h3> <h4 id="host"><a href="#host" class="header-anchor">#</a> Host</h4> <p><code>Host</code>:服务器主机地址,需要注意的是host不是用来ip寻址的,寻址是发送报文前通过DNS来完成的.
为什么会还要这个host呢,是因为可能会存在1个ip多个虚拟服务器,如果没有host无法精确定位到具体的虚拟机服务器</p> <h4 id="content-length-内容长度"><a href="#content-length-内容长度" class="header-anchor">#</a> Content-Length(内容长度)</h4> <p><code>Content-Length</code>:用来标记发送内容的字节长度的,如果<code>Content-Length</code>小于实际内容的长度,则发送的内容将不完整,
如果<code>Content-Length</code>大于实际内容的长度,服务器会响应超时报错,因为服务端/客户端读取到消息结尾后,会等待下一个字节,一直等待不到直至超时.</p> <p>如果不确定<code>Content-Length</code>长度我们需要使用</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Transfer-Encoding:chunked
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="transfer-encoding-传输编码"><a href="#transfer-encoding-传输编码" class="header-anchor">#</a> Transfer-Encoding(传输编码)</h4> <p>Http/1.0后引入了长链接的概念,通过<code>Connection: keep-alive</code> 实现,服务端和客户端通过发送这个头部信息告诉对方不需要断开TCP连接,后面继续使用,
Http/1.1后改成默认规则,只要不发送<code>Connection: close</code>,默认保持长链接.</p> <p>持续的长链接需要服务器/客户端在开始发送消息的时候就需要知道内容的长度定义好<code>Content-Length</code>,但是对于动态生成的内容来说,在内容完成之前这个<code>Content-Length</code>是不可知的,
所以在Http/1.1就引入了<code>Transfer-Encoding:chunked(分块传输编码)</code>概念,消息内容会分成数量未定的块数,并以最后一个为0结束发送
以下是Transfer-Encoding的几种定义方法:</p> <ul><li><blockquote><p><code>Transfer-Encoding:chunked</code>:消息内容会分成数量未定的块数,并以最后一个为0结束发送,<code>Content-Length</code>在这种情况下不会被发送.</p></blockquote></li> <li><blockquote><p><code>Transfer-Encoding:compress</code>:采用 Lempel-Ziv-Welch (LZW) 压缩算法,这种内容编码方式已经被大部分浏览器弃用.</p></blockquote></li> <li><blockquote><p><code>Transfer-Encoding:deflate</code>:采用 zlib 结构 (在 RFC 1950 中规定),和 deflate 压缩算法(在 RFC 1951 中规定).</p></blockquote></li> <li><blockquote><p><code>Transfer-Encoding:gzip</code>:采用 Lempel-Ziv coding (LZ77) 压缩算法,以及 32 位 CRC 校验的编码方式.这个编码方式最初由 UNIX 平台上的 gzip 程序采用.</p></blockquote></li> <li><blockquote><p><code>Transfer-Encoding:identity</code>:指代未经过压缩和修改.</p></blockquote></li></ul> <h4 id="content-type-内容类型"><a href="#content-type-内容类型" class="header-anchor">#</a> Content-Type(内容类型)</h4> <p>在Http中通过<code>Content-Type</code>表示消息内容的类型信息,被用来告诉服务端如何处理数据,以及告诉客户端如何解析数据,
以下是<code>Content-Type</code>常用格式</p> <ul><li><blockquote><p><code>Content-Type: text/html</code>:HTML格式,常用于浏览器页面响应</p></blockquote></li> <li><blockquote><p><code>Content-Type: application/json</code>:JSON数据格式,用于web api的响应,或者post/put请求</p></blockquote></li> <li><blockquote><p><code>Content-Type: application/x-www-form-urlencoded</code>:普通表单, encode URL格式 提交的body拼成name=q&amp;url=2类型,只能传文本</p></blockquote></li> <li><blockquote><p><code>Content-Type: multipart/form-data</code>:表单进行文件上传时，就需要使用该格式,将内容分多个部分传输每部分内容的形式,使用 boundary 对它们进行分隔</p></blockquote></li> <li><blockquote><p><code>Content-Type: image/jpeg</code>:jpg图片格式</p></blockquote></li> <li><blockquote><p><code>Content-Type: text/plain</code>:文本格式</p></blockquote></li> <li><blockquote><p><code>Content-Type: text/XML</code>:XML格式</p></blockquote></li></ul> <h3 id="user-agent-用户代理"><a href="#user-agent-用户代理" class="header-anchor">#</a> User-Agent(用户代理)</h3> <p><code>User-Agent</code>(用户代理)，简称 UA,这是一个特殊字符,网站服务器通过识别UA,来确定用户使用的操作系统版本,CPU类型,浏览器版本信息等.
H5常常通过UA判断设备是否是手机 ,爬虫也常用来修改UA绕过网站的反爬(只是爬虫和反爬的第一步).</p> <h3 id="location-重定向"><a href="#location-重定向" class="header-anchor">#</a> Location(重定向)</h3> <p>告诉客户端加载另外一个url,通常是在301重定向的时候使用</p> <h3 id="range-accept-range-content-range"><a href="#range-accept-range-content-range" class="header-anchor">#</a> Range/Accept-Range/Content-Range</h3> <ul><li><blockquote><p><code>Range: bytes=&lt;start&gt;-&lt;end&gt;</code>:请求报文出现,表示要取哪段数据</p></blockquote></li> <li><blockquote><p><code>Accept-Range: bytes</code>:响应报文出现,表示服务器支持按字节取范围数据</p></blockquote></li> <li><blockquote><p><code>Content-Range:&lt;start&gt;-&lt;end&gt;/total</code>:响应报文出现,表示发送的是哪段数据</p></blockquote></li></ul> <p>以上头信息常用于断点上传,多线程下载等.</p> <h3 id="accept"><a href="#accept" class="header-anchor">#</a> Accept</h3> <p>客户端能接受的数据类型,如 text/html</p> <h3 id="accept-charset"><a href="#accept-charset" class="header-anchor">#</a> Accept-Charset</h3> <p>客户端接受的字符集,如 utf-8</p> <h3 id="accept-encoding"><a href="#accept-encoding" class="header-anchor">#</a> Accept-Encoding</h3> <p>客户端接受的压缩编码类型,如 gzip</p> <h3 id="content-encoding"><a href="#content-encoding" class="header-anchor">#</a> Content-Encoding</h3> <p>压缩类型,如 gzip</p> <h3 id="cache-缓存-buffer-缓冲"><a href="#cache-缓存-buffer-缓冲" class="header-anchor">#</a> Cache(缓存)/Buffer(缓冲)</h3> <p>Cache用过的东西,待会可能还会用的,
Buffer,针对工作流的,还没用过的东西,一定会用的,比如视频的缓冲</p> <ul><li><blockquote><p><code>Cache-Control:no-cache</code>:可以缓冲</p></blockquote></li> <li><blockquote><p><code>Cache-Control:no-store</code>:不要缓存</p></blockquote></li> <li><blockquote><p><code>Cache-Control:max-age</code>:失效前使用缓存</p></blockquote></li></ul> <p>Last-Modified:最近什么时候改变的 if- Modified-Since
Cache-Control是http1.1为了弥补expires而产生的</p> <p><code>推荐阅读</code></p> <p><a href="/pages/5b9e4a/">RESTful的简介</a></p></div></div> <div class="page-slot page-slot-bottom"><!-- 文章底部 -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-9224233515711708"
          data-ad-slot="7196244720"
          data-ad-format="horizontal"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=Android" title="标签">#Android</a><a href="/tags/?tag=http" title="标签">#http</a><a href="/tags/?tag=%E7%BD%91%E7%BB%9C" title="标签">#网络</a><a href="/tags/?tag=HTTP%E6%8A%A5%E6%96%87" title="标签">#HTTP报文</a><a href="/tags/?tag=URL" title="标签">#URL</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/01/10, 17:49:29</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/5b9e4a/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">RESTful的简介</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/5b9e4a/">RESTful的简介</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/6ea8c2/"><div>com.intellij.util.io.PersistentEnumeratorBase$CorruptedException PersistentEnumerator storage corrupted</div></a> <span>04-23</span></dt></dl><dl><dd>02</dd> <dt><a href="/" class="router-link-active"><div>技术咸鱼</div></a> <span></span></dt></dl><dl><dd>03</dd> <dt><a href="/app/markit/privacy/zh/privacy11/"><div>用户协议zh-Hans</div></a> <span>04-18</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="sidebar-slot sidebar-slot-bottom footer-ad">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
     <ins class="adsbygoogle"
   data-ad-format="auto"
    style="display:block"
    data-full-width-responsive="true"
     data-ad-client="ca-pub-9224233515711708"
     data-ad-slot="7196244720"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
<!--      <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1279350766'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1279350766%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>-->
      </div> <div class="icons"><a href="mailto:oopanda@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/oopanda-sun" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
        Copyright © 2019-2023
        <span>oopanda | <a href="https://beian.miit.gov.cn" target="_blank">皖ICP备19017961号-1</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <div class="custom-html-window custom-html-window-lb" style="display:;"><div class="custom-wrapper"><i class="close-but">×</i> <div><!-- 左侧底部悬浮 -->
document.write('<script src="http://wm.lrswl.com/page/s.php?s=321737&w=300&h=250"></script>');</div></div></div> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">×</i> <div>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
     <ins class="adsbygoogle"
     style="display:inline-block;width:200px;height:200px"
     data-ad-client="ca-pub-9224233515711708"
     data-ad-slot="5843939493"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
<!--      <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1279350766'%3E%3C/span%3E%3Cscript src='https://s9.cnzz.com/z_stat.php%3Fid%3D1279350766%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>-->
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.7d1b7638.js" defer></script><script src="/assets/js/2.7237062d.js" defer></script><script src="/assets/js/3.6e8e033a.js" defer></script><script src="/assets/js/92.8dd21d5e.js" defer></script>
  </body>
</html>
